<%- include('fragments/header') %>

<div class="container mt-5">
  <h2 class="text-center text-white">Perfil do Administrador</h2>

  <div class="card bg-dark text-white p-4 mx-auto" style="max-width: 400px;">
    <form action="/admin/dashboard/adminProfile" enctype="multipart/form-data" method="post">
      
      <!-- Upload de Imagem -->
      <label class="d-flex flex-column align-items-center p-3 border rounded bg-secondary bg-opacity-25" for="file">
        <i class="bi bi-cloud-upload fs-1 mb-2"></i>
        <span>Upload da Logo</span>
        <input type="file" id="file" name="logo" hidden>
      </label>

      <!-- Nome de Usuário -->
      <input type="text" class="form-control mt-3" id="username" name="username" value="<%= adminUser.userAdmin %>" required placeholder="Nome de Usuário">

      <!-- Nova Senha -->
      <input type="password" class="form-control mt-3" id="password" name="password" value="<%= adminUser.passAdmin %>" placeholder="Nova Senha" required>
      <button id="buttonView">Visualizar</button>
      
      <!-- Botão para abrir o Offcanvas -->
      <button class="btn btn-danger w-100 mt-4" type="button" data-bs-toggle="offcanvas" data-bs-target="#offcanvasConfirm">
        <i class="bi bi-save me-2"></i>Salvar
      </button>

      <!-- Offcanvas de Confirmação -->
      <div class="offcanvas offcanvas-bottom bg-dark text-white" tabindex="-1" id="offcanvasConfirm">
        <div class="offcanvas-header">
          <h5 class="offcanvas-title">Confirmação</h5>
          <button type="button" class="btn-close btn-close-white" data-bs-dismiss="offcanvas"></button>
        </div>
        <div class="offcanvas-body text-center">
          <p>Tem certeza de que deseja salvar as alterações?</p>
          <button type="submit" class="btn btn-danger w-100">
            <i class="bi bi-check-circle me-2"></i>Confirmar
          </button>
        </div>
      </div>

    </form>
  </div>
</div>


<script>
      const password = document.getElementById("password")
      const buttonView = document.getElementById("buttonView")
      
      buttonView.addEventListener("click", (ev) => {
      ev.preventDefault();
        if(password.type === "password") {
          password.type = "text"
          buttonView.textContent = "Esconder"
        } else if (password.type === "text") {
          password.type = "password"
          buttonView.textContent = "Visualizar"
        }
      })
</script>

<%- include('fragments/footer') %>

<style>
  .form-control {
    background: transparent;
    border: 1px solid white;
    color: white;
    border-radius: 8px;
  }
</style>